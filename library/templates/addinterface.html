<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>欢迎光临图书管理系统</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
   <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
   <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
</head>
 <script language="javascript">
						
             function isValid(){
                 var isbn = document.getElementById("isbnID").value;
                 var bookname = document.getElementById("bookname").value;
				 var pubname = document.getElementById("pubname").value;
				 var year = document.getElementById("year").value;
				 var month = document.getElementById("month").value;
				 var day = document.getElementById("day").value;
				 var price = document.getElementById("price").value;
				 var author = document.getElementById("author").value;
				 var age = document.getElementById("age").value;
				 var country = document.getElementById("country").value;

                 if(parseInt(isbn)!=isbn){
                     alert("ISBN 必须为整数");
                     return false;
                 }
				 if(bookname == "") {
					alert("图书名不能为空");
					return false;
				 }
				 if(pubname == "") {
					alert("出版商不能为空");
					return false;
				 }
				if(year == "" || isNaN(year) || year%1!=0 || year<0) {
					alert("出版日期必须是数字");
					return false;
				}
				if(month == "" || isNaN(month) || month%1!=0 || month<0) {
					alert("出版日期必须是数字");
					return false;
				}
				if(day == "" || isNaN(day) || day%1!=0 || day<0) {
					alert("出版日期必须是数字");
					return false;
				}
				if(day>31 || month>12){
					alert("出版日期不合法");
					return false;
				}
				if(day==31 && (month==2 || month==4 || month==6 || month==9 || month==11)){
					alert("出版日期不合法");
					return false;
				}
				if(day==30 && month==2){
					alert("出版日期不合法");
					return false;
				}
				if(day==29 && month==2 &&year%4!=0){
					alert("出版日期不合法");
					return false;
				}		
				if(price=="" || isNaN(price)) {
					alert("价格必须是数字");
					return false;
				}
				if(author=="") {
					alert("作者不能为空");
					return false;
				}
				 
				if(age == "" || isNaN(age) || age%1!=0 || age<0) {
					alert("年龄必须是数字");
					return false;
				}
				if(country=="") {
					alert("国籍不能为空");
					return false;
				}
                return true;
             }
 </script>
 
<body>
<div class="container" style="max-width:400px; padding-top:60px">
<form name="input" action="/addoperation/" method="post" onsubmit="return isValid()">
{% csrf_token %}
<h3>图书信息</h3>
<div class="form-group">
           <label for="isbnID">ISBN</label>
           <input type="text" class="form-control" name="isbn" id="isbnID" placeholder="ISBN">
</div>

<div class="form-group">
           <label for="bookname">书名</label>
           <input type="text" class="form-control" name="title" id="bookname" placeholder="书名">
</div>


<div class="form-group">
           <label for="pubname">出版商</label>
           <input type="text" class="form-control" name="publisher" id="pubname" placeholder="出版商">
</div>




<div class="form-group">
           <label for="bookname">出版日期</label>
		   <br>
		   <input type="text" name="year" id="year" style="width:100px" placeholder="年" />  
		<input type="text" name="month" id="month" style="width:100px" placeholder="月" />  
	    <input type="text" name="day" id="day" style="width:100px;" placeholder="日" /> 
           
</div>


<div class="form-group">
           <label for="bookname">价格</label>
           <input type="text" class="form-control" name="price" id="price" placeholder="价格">
</div>


<h3> 作者信息 </h3> 
<div class="form-group">
           <label for="bookname">姓名</label>
           <input type="text" class="form-control" name="author" id="author" placeholder="姓名">
</div>


<div class="form-group">
           <label for="bookname">年龄</label>
           <input type="text" class="form-control" name="age" id="age" placeholder="年龄">
</div>


<div class="form-group">
           <label for="bookname">国籍</label>
           <input type="text" class="form-control" name="country" id="country" placeholder="国籍">
</div>



<input type="submit" value="添加" class="btn btn-large btn-block btn-primary"/>

</form>
</div>
</body>

</html>
